library('ggplot2')
library('ggplot2')
library('gplot2')
library(ggplot2)
library('dplyr')
library(ggplot2)
# Load necessary libraries
library('ggplot2')
library(maps)
library(mapdata)
# Load the dataset
state_data <- read.csv("state_health_insurance_coverage_2021.csv", stringsAsFactors = FALSE)
# Define color palette
colors <- c("skyblue", "blue4")
# Set up ggplot with the map data
p = ggplot() +
geom_map(data = map_data("state"), map = map_data("state"),
aes(x = long, y = lat, map_id = region),
fill = "white", color = "black", size = 0.1) +
coord_fixed(1.3)
# Add the data to the plot
p = p +
geom_map(data = state_data_map, map = state_data_map,
aes(fill = Uninsured, map_id = region),
color = "black", size = 0.1) +
scale_fill_gradient(low = colors[1], high = colors[2],
name = "Uninsured rate",
breaks = seq(0, 0.2, by = 0.05),
labels = c("0.00", "0.05", "0.10", "0.15", "0.20")) +
labs(title = "Percentage of residents without health insurance coverage in the U.S., 2021") +
theme_void()
# Display the plot
print(p)
install.packages("ggplot2")
state_health_insurance_coverage_2021 <- read.csv("A:/R assignment/state_health_insurance_coverage_2021.csv")
View(state_health_insurance_coverage_2021)
View(state_health_insurance_coverage_2021)
library('ggplot2')
library('dplyr')
require(rgdal)
require(sp)
library(RcolorBrewer)
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("dplyr")
install.packages("RcolorBrewer")
install.packages("rgdal")
library('ggplot2')
library('dplyr')
require(rgdal)
install.packages("rgdal")
fig
fig <- plot_ly(x = as.Date(data$AAPL_x), y = data$AAPL_y, type = 'scatter', mode = 'lines'
, name = 'Share Prices (in USD)')%>%
layout(title = 'Apple Share Prices over time (2014)',
plot_bgcolor='#e5ecf6',
xaxis = list(
title = 'AAPL_x',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
title = 'AAPL_y',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
showlegend = TRUE, width = 1100)
fig <- plot_ly(x = as.Date(data$AAPL_x), y = data$AAPL_y, type = 'scatter', mode = 'lines'
, name = 'Share Prices (in USD)')%>%
layout(title = 'Apple Share Prices over time (2014)',
plot_bgcolor='#e5ecf6',
xaxis = list(
title = 'AAPL_x',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
title = 'AAPL_y',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
showlegend = TRUE, width = 1100)
fig <- plot_ly(x = as.Date(data$AAPL_x), y = data$AAPL_y, type = 'scatter', mode = 'lines'
, name = 'Share Prices (in USD)')%>%
layout(title = 'Apple Share Prices over time (2014)',
plot_bgcolor='#e5ecf6',
xaxis = list(
title = 'AAPL_x',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
title = 'AAPL_y',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
showlegend = TRUE, width = 1100)
fig <- plot_ly(x = as.Date(data$AAPL_x), y = data$AAPL_y, type = 'scatter', mode = 'lines'
, name = 'Share Prices (in USD)')%>%
layout(title = 'Apple Share Prices over time (2014)',
plot_bgcolor='#e5ecf6',
xaxis = list(
title = 'AAPL_x',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
title = 'AAPL_y',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
showlegend = TRUE, width = 1100)
data <- read.csv('https://raw.githubusercontent.com/plotly/datasets/master/2014_apple_stock.csv')
head(data)
library(plotly)
install.packages("plotly")
library(plotly)
data <- read.csv('https://raw.githubusercontent.com/plotly/datasets/master/2014_apple_stock.csv')
fig <- plot_ly(x = as.Date(data$AAPL_x), y = data$AAPL_y, type = 'scatter', mode = 'lines'
, name = 'Share Prices (in USD)')%>%
layout(title = 'Apple Share Prices over time (2014)',
plot_bgcolor='#e5ecf6',
xaxis = list(
title = 'AAPL_x',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
title = 'AAPL_y',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
showlegend = TRUE, width = 1100)
fig
data <- read.csv('state_health_insurance_coverade_2021')
state_health_insurance_coverage_2021 <- read.csv("~/Rproblem/state_health_insurance_coverage_2021.csv")
View(state_health_insurance_coverage_2021)
data <- read.csv('state_health_insurance_coverage_2021')
data <- read.csv('state_health_insurance_coverage_2021')
library(readr)
state_health_insurance_coverage_2021 <- read_csv("Rproblem/state_health_insurance_coverage_2021.csv")
View(state_health_insurance_coverage_2021)
data <- read.csv('state_health_insurance_coverage_2021')
data <- read.csv('state_health_insurance_coverage_2021.csv')
head(data)
data <- read.csv('state_health_insurance_coverage_2021.csv')
data <- read.csv('state_health_insurance_coverage_2021.csv')
data <- read.csv('state_health_insurance_coverage_2021.csv')
data <- read.csv('state_health_insurance_coverage_2021.csv')
data <- read.csv('state_health_insurance_coverage_2021.csv')
library(readr)
state_health_insurance_coverage_2021 <- read_csv("Rproblem/state_health_insurance_coverage_2021.csv")
View(state_health_insurance_coverage_2021)
state_health_insurance_coverage_2021 <- read_csv("Rproblem/state_health_insurance_coverage_2021.csv")
state_health_insurance_coverage_2021 <- read_csv("Rproblem/state_health_insurance_coverage_2021.csv")
install.packages("plotly")
install.packages("plotly")
install.packages("plotly")
install.packages("plotly")
install.packages("plotly")
data <- read.csv('C:\Users\Mr Biz\Documents\Rproblem/state_health_insurance_coverage_2021.csv')
data <- read.csv('C:\Users\Mr Biz\Documents\Rproblem\state_health_insurance_coverage_2021.csv')
fig <- plot_ly(x = as.Date(data$AAPL_x), y = data$AAPL_y, type = 'scatter', mode = 'lines'
, name = 'Share Prices (in USD)')%>%
layout(title = 'Apple Share Prices over time (2014)',
plot_bgcolor='#e5ecf6',
xaxis = list(
title = 'AAPL_x',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
title = 'AAPL_y',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
showlegend = TRUE, width = 1100)
fig
data <- read.csv('C:\Users\Mr Biz\Documents\Rproblem\state_health_insurance_coverage_2021.csv')
data <- read.csv('C:\Users\Mr Biz\Documents\Rproblem\bank_stocks_2022_2023.csv')
data <- read.csv('bank_stocks_2022_2023.csv')
fig <- plot_ly(x = as.Date(data$AAPL_x), y = data$AAPL_y, type = 'scatter', mode = 'lines'
, name = 'Share Prices (in USD)')%>%
layout(title = 'Apple Share Prices over time (2014)',
plot_bgcolor='#e5ecf6',
xaxis = list(
title = 'AAPL_x',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
yaxis = list(
title = 'AAPL_y',
zerolinecolor = '#ffff',
zerolinewidth = 2,
gridcolor = 'ffff'),
showlegend = TRUE, width = 1100)
fig
library(readr)
bank_stocks_2022_2023 <- read_csv("Rproblem/bank_stocks_2022_2023.csv")
View(bank_stocks_2022_2023)
data <- read_csv("Rproblem/bank_stocks_2022_2023.csv")
data <- read_csv("Rproblem/bank_stocks_2022_2023.csv")
library(ggplot2)
library(dplyr)
clear
cls
clearPushBack()
library(ggplot2)
library(dplyr)
df <- read.csv("bank_stocks_2022_2023.csv")
df <- read_csv("bank_stocks_2022_2023.csv")
df <- read_csv("bank_stocks_2022_2023.csv")
library(readr)
df <- read_csv("bank_stocks_2022_2023.csv")
df <- read_csv("bank_stocks_2022_2023.csv")
# Read the CSV file
df <- read_csv("bank_stocks_2022_2023.csv" , stringsAsFactors = FALSE)
state_data <- read_csv("state_health_insurance_coverage_2021.csv", stringsAsFactors = FALSE)
df$date <- as.Date(df$date, format = "%m/%d/%Y")
ggplot(df, aes(x = date, y = close_price, color = bank_name)) +
geom_line() +
labs(title = "Stock performance of the four largest US banks, 2022-2023",
x = "Date",
y = "Stock Price ($)",
color = "Banks") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
avg_price <- df %>%
group_by(date) %>%
summarize(avg_price = mean(close_price))
ggplot(df, aes(x = date, y = close_price, color = bank_name)) +
geom_line() +
geom_line(data = avg_price, aes(y = avg_price), color = "black", linetype = "dashed", size = 1) +
labs(title = "Stock performance of the four largest US banks, 2022-2023",
x = "Date",
y = "Stock Price ($)",
color = "Banks") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(df, aes(x = date, y = close_price, color = bank_name)) +
geom_line() +
geom_line(data = avg_price, aes(y = avg_price), color = "Red", size = 1) +
labs(title = "Stock performance of the four largest US banks, 2022-2023",
x = "Date",
y = "Stock Price ($)",
color = "Banks") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
library(readr)
state_health_insurance_coverage_2021 <- read_csv("state_health_insurance_coverage_2021.csv")
View(state_health_insurance_coverage_2021)
library(ggplot2)
library(sf)
install.packages(sf)
install.packages("sf")
# Load the data
data <- read_csv("state_health_insurance_coverage_2021.csv")
data <- read_csv("state_health_insurance_coverage_2021.csv")
data <- data[!(data$State %in% c("Alaska", "Hawaii")), ]
us_map <- st_read(system.file("shape/usa/usa.shp", package="maptools"))
# Merge data with map based on State names
merged <- merge(us_map, data, by.x = "NAME", by.y = "State")
# Plot the map
ggplot() +
geom_sf(data = merged, aes(fill = Uninsured)) +
scale_fill_gradient(low = "skyblue", high = "blue4", name = "Uninsured rate") +
labs(title = "Percentage of residents without health insurance coverage in the U.S., 2021") +
theme_minimal() +
theme(legend.position = "bottom")
data <- read_csv("state_health_insurance_coverage_2021.csv")
data <- data[!(data$State %in% c("Alaska", "Hawaii")), ]
us_map <- st_read(system.file("shape/usa/usa.shp", package="maptools"))
us_map <- st_read(system.file("shape/usa/usa.shp", package="sf"))
us_map <- st_read(system.file("shape/usa/usa.shp", package="sf"))
# Load necessary libraries
install.packages("sf")  # Install sf package if not already installed
install.packages("sf")
ggplot() +
geom_sf(data = merged, aes(fill = Uninsured)) +
scale_fill_gradient(low = "skyblue", high = "blue4", name = "Uninsured rate") +
labs(title = "Percentage of residents without health insurance coverage in the U.S., 2021") +
theme_minimal() +
theme(legend.position = "bottom")
